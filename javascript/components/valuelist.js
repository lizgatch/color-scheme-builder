function valuelist(m){var k=this;var b=m;var e=["get_results"];var l=["background","text","keyword","type","string","regexp","specialchar","comment","number","preproc","symbol","function","cbracket","url","date","time","file","ip","name","variable","oldfile","newfile","difflines","selector","property","value"];var f=[];var d=[];k.ready=n;k.getMessageTypes=g;k.messageReceive=c;function n(){for(var p=0;p<l.length;p++){f[p]="333333";d[p]={property:l[p],color:"#"+f[p],underline:false,bold:false,italic:false}}var o="<ul>";for(var p=0;p<l.length;p++){o+="<li>";o+='<p class="type">'+l[p]+"</p>";o+='<input type="color" class="color" value="'+f[p]+'" />';if(l[p]!=="background"){o+='<a href="#bold" class="text-button text-bold">b</a>';o+='<a href="#italic" class="text-button text-italic">i</a>';o+='<a href="#underline" class="text-button text-underline">u</a>'}o+="</li>"}o+="</ul>";b.append(o);a(b);i(b)}function a(o){var p={alpha:false,buttonImageOnly:true};$("li",o).each(function(q,r){p.onSelect=h;$(r).find(".color").colorpicker(p);$(r).find(".type ").css({color:"#"+f[q]})})}function i(o){$(".text-button",o).click(j)}function h(v,p,r){if(r){var o=$(r.element);var u=o.prev().text();var s="color";var t={type:u,color:v};var q=o.closest("li").index();if(u!=="background"){o.prev().css({color:v})}else{o.css({backgroundColor:v})}d[q].color=v;Chainsaw.messageSend(s,t)}}function j(q){var t=$(q.target);var o=t.attr("href").replace("#","");var s=t.closest("li").find(".type");var r={};var p=t.closest("li").index();q.preventDefault();t.toggleClass("active");if(o==="bold"){r.key="font-weight";if(t.hasClass("active")){r.value="bold"}else{r.value="normal"}}if(o==="italic"){r.key="font-style";if(t.hasClass("active")){r.value="italic"}else{r.value="normal"}}if(o==="underline"){r.key="text-decoration";if(t.hasClass("active")){r.value="underline"}else{r.value="none"}}s.css(r.key,r.value);d[p][o]=t.hasClass("active");Chainsaw.messageSend("text",{type:s.text(),style:r})}function c(o,p){if(o==="get_results"){Chainsaw.messageSend("result",d)}}function g(){return e}}Chainsaw.componentAdd(valuelist,"valuelist");